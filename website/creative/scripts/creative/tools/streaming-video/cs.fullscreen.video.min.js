// FULL SCREEN STREAMING VIDEO
// AUTHORS - PAUL NAUMAN, MATT BASSET, BRENTON KELLY
// VERSION 11.16.19 - ADDED WATCH BACKGROUND VIDEO BUTTON BY PAUL NAUMAN

!function(h){h.fn.fullScreenRotator=function(e){var v={videoSource:"youtube",videoID:"",myvrspotVideoWidth:"853.5",myvrspotVideoHeight:"480",fullScreenBreakpoints:[960],showControls:!0,showWatchVideoButton:!1,watchVideoButtonText:"Watch Video",showProgressBar:!1,progressBarType:"line",progressBarCircleWidth:70,progressBarCircleHeight:70,progressBarStrokeWidth:7,progressBarStrokeColor:"#FFF",showMobileBackgroundPhoto:!0,mobileBackgroundPhoto:"//placehold.it/640x400",mobileBackgroundPhotoBreakpoint:640,useCustomResize:!1,extendResize:function(e,t,o){},onReady:function(e){},onStateChange:function(e){}};return e&&h.extend(v,e),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},this.each(function(e,t){v.videoSource=v.videoSource.toLowerCase();var n=this,i="",s="",r="myvrspot"==v.videoSource&&""!=h.trim(v.myvrspotVideoWidth)&&Number.isInteger(v.myvrspotVideoWidth)?v.myvrspotVideoWidth:853.5,a="myvrspot"==v.videoSource&&""!=h.trim(v.myvrspotVideoHeight)&&Number.isInteger(v.myvrspotVideoHeight)?v.myvrspotVideoHeight:480,u={tab:9,enter:13,esc:27,space:32,end:35,home:36,left:37,up:38,right:39,down:40};function o(e){var o=e||{width:r,height:a},t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=function(){if(v.showProgressBar&&"circle"==v.progressBarType){var e=document.getElementById("cs-fullscreen-video-loader");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e);var t=e.getContext("2d")}s=new YT.Player("cs-fullscreen-video",{height:a,width:r,videoId:v.videoID,playerVars:{autoplay:1,modestbranding:1,controls:0,rel:0,loop:1,showinfo:0,wmode:"opaque",playlist:v.videoID},events:{onReady:function(e){s.mute(),0===e.data&&s.playVideo(),v.showProgressBar&&("line"==v.progressBarType?setInterval(function(){var e=s.getCurrentTime(),t=s.getDuration();h(".cs-fullscreen-video-progessbar.line-progressbar").css("width",e/t*100+"%")},500):"circle"==v.progressBarType&&setInterval(function(){var e=(s.getCurrentTime()/s.getDuration()*360).toFixed(2);t.clearRect(0,0,v.progressBarCircleWidth,v.progressBarCircleHeight),t.beginPath(),t.arc(v.progressBarCircleWidth/2,v.progressBarCircleHeight/2,v.progressBarCircleWidth/2,l(0)-Math.PI/2,l(e)-Math.PI/2,!1),t.lineWidth=v.progressBarStrokeWidth,t.strokeStyle=v.progressBarStrokeColor,t.stroke()},500)),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons .play-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,o),s.playVideo(),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").hasClass("video-paused")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").removeClass("video-paused").addClass("video-playing"))}),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons .pause-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,o),s.pauseVideo(),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").hasClass("video-playing")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").removeClass("video-playing").addClass("video-paused"))}),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons .mute-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,o),s.mute(),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").hasClass("video-unmuted")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").removeClass("video-unmuted").addClass("video-muted"))}),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons .unmute-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,o),s.unMute(),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").hasClass("video-muted")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").removeClass("video-muted").addClass("video-unmuted"))}),v.onReady.call(this,o)},onStateChange:function(e){0===e.data?s.playVideo():1===e.data?(h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").hasClass("video-paused")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").removeClass("video-paused").addClass("video-playing"),v.showProgressBar):2===e.data&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").hasClass("video-playing")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-youtube-buttons").removeClass("video-playing").addClass("video-paused")}}})}}function l(e){return e*(Math.PI/180)}function c(e){var t=e||{width:r,height:a};h("#cs-fullscreen-video").replaceWith(function(){return'<iframe id="cs-fullscreen-video" src="//player.vimeo.com/video/'+v.videoID+"?title=0&byline=0&portrait=0&playbar=0&loop=1&autoplay=1&player_id="+h(n)[0].id+'&muted=1" frameborder="0" aria-hidden="true" tabindex="-1" allow="autoplay; fullscreen"></iframe>'});var o=document.getElementById("cs-fullscreen-video");(s=new Vimeo.Player(o)).ready().then(function(){if(s.play(),s.setVolume(0),v.showProgressBar)if("line"==v.progressBarType)s.on("progress",function(e){var t=e.seconds,o=e.duration;h(".cs-fullscreen-video-progessbar.line-progressbar").css("width",t/o*100+"%")});else if("circle"==v.progressBarType){var e=document.getElementById("cs-fullscreen-video-loader");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e);var o=e.getContext("2d");s.on("progress",function(e){var t=(360*e.percent).toFixed(2);o.clearRect(0,0,v.progressBarCircleWidth,v.progressBarCircleHeight),o.beginPath(),o.arc(v.progressBarCircleWidth/2,v.progressBarCircleHeight/2,v.progressBarCircleWidth/2,l(0)-Math.PI/2,l(t)-Math.PI/2,!1),o.lineWidth=v.progressBarStrokeWidth,o.strokeStyle=v.progressBarStrokeColor,o.stroke()})}h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons .play-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,t),s.play(),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons").hasClass("video-paused")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons").removeClass("video-paused").addClass("video-playing"))}),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons .pause-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,t),s.pause(),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons").hasClass("video-playing")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons").removeClass("video-playing").addClass("video-paused"))}),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons .mute-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,t),s.setVolume(0),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons").hasClass("video-unmuted")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons").removeClass("video-unmuted").addClass("video-muted"))}),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons .unmute-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,t),s.setVolume(1),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons").hasClass("video-muted")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-vimeo-buttons").removeClass("video-muted").addClass("video-unmuted"))})}),v.onReady.call(this,t)}function d(){switch(window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/"|'/g,"")){case"desktop":return 960;case"768":return 768;case"640":return 640;case"480":return 480;case"320":return 320}}function f(e){return"click"==e.type||"keydown"==e.type&&(e.keyCode==u.space||e.keyCode==u.enter)}!function(){var e=document.createElement("style");if(e){e.setAttribute("type","text/css");var t=document.getElementsByTagName("head")[0];t&&t.insertBefore(e,t.childNodes[0]);var n='body:before {content: "desktop";display: none;}.cs-fullscreen-video-button[data-show-button="false"] {display: none;}#cs-fullscreen-video-outer[data-hide-video="960"] #cs-fullscreen-video {display: none;}@media (max-width: 1023px) {body:before {content: "768";}#cs-fullscreen-video-outer[data-hide-video="768"] #cs-fullscreen-video {display: none;}}@media (max-width: 767px) {body:before {content: "640";}#cs-fullscreen-video-outer[data-hide-video="640"] #cs-fullscreen-video {display: none;}}@media (max-width: 639px) {body:before {content: "480";}#cs-fullscreen-video-outer[data-hide-video="480"] #cs-fullscreen-video {display: none;}}@media (max-width: 479px) {body:before {content: "320";}#cs-fullscreen-video-outer[data-hide-video="320"] #cs-fullscreen-video {display: none;}}#cs-fullscreen-video-outer {position: relative;}#cs-fullscreen-video-outer:after {content: "";display: block;position: absolute;top: 0px;bottom: 0px;left: 0px;right: 0px;}#cs-fullscreen-video {width: 100vw;height: calc(100vw * '+a/r+");}.cs-fullscreen-video-buttons {position: absolute;bottom: 0;left: 0;z-index: 5;}.cs-fullscreen-video-button {cursor: pointer;}.cs-fullscreen-video-progessbar.circle-progressbar {position: absolute;bottom: 0;left: 0;z-index: 5;}#cs-fullscreen-video-loader {width: "+v.progressBarCircleWidth+"px;height: "+v.progressBarCircleHeight+"px;border-radius: 50%;}.cs-fullscreen-video-progessbar.line-progressbar {position: absolute;bottom: 0;left: 0;z-index: 5;width: 0;height: "+v.progressBarStrokeWidth+"px;background: "+v.progressBarStrokeColor+';-webkit-transition: width 1s linear;-moz-transition: width 1s linear;-ms-transition: width 1s linear;-o-transition: width 1s linear;transition: width 1s linear;} .cs-fullscreen-video-window {width: 100%;height: 100%;position: fixed;top: 0px;left: 0px;box-sizing: border-box;background: rgba(0, 0, 0, .75);animation: mmgAnimateVideoWindowIn .3s;z-index: 9999999999;} .cs-fullscreen-video-window.close-video {animation: mmgAnimateVideoWindowOut 1s;animation-fill-mode: forwards;} .cs-fullscreen-video-outer {width: calc(100% - 80px);height: calc(100% - 80px);margin: 40px 0px 0px 40px;padding: 20px 20px 40px;box-sizing: border-box;animation: mmgAnimateVideoIn 1s;background: #FFF;position: relative;}@media (max-width: 767px) { .cs-fullscreen-video-outer {width: calc(100% - 30px);height: calc(100% - 30px);margin: 15px 0px 0px 15px;padding: 15px 15px 30px;box-sizing: border-box;animation: mmgAnimateVideoIn 1s;background: #FFF;position: relative;}} .cs-fullscreen-video-window.close-video .cs-fullscreen-video-outer {animation: mmgAnimateVideoOut 1s;animation-fill-mode: forwards;} .cs-fullscreen-video-viewer {width: 100%;height: 100%;box-sizing: border-box;background: #000;position: relative;overflow: hidden;} .cs-fullscreen-video-viewer iframe {width: 100%;height: 100%;box-sizing: border-box;position: relative;z-index: 2;background: #000;} .cs-fullscreen-video-close {position: absolute;right: 20px;bottom: 15px;color: #333;line-height: 1;font-size: 16px;font-family: "Trebuchet MS", "Lucida Sans", Tahoma, sans-serif;text-decoration: underline;}';v.fullScreenBreakpoints.length&&h.each(v.fullScreenBreakpoints,function(e,t){var o="#cs-fullscreen-video-outer {width: 100vw;height: 100vh;position: fixed;top: 0;left: 0;z-index: 1;overflow: hidden;display: -ms-flexbox;display: -webkit-flex;display: flex;-webkit-align-items: center;-ms-flex-align: center;align-items: center;-webkit-justify-content: center;-ms-flex-pack: center;justify-content: center;}#cs-fullscreen-video {width: 100vw;height: 100vh;min-width: calc(100vh / "+a/r+");min-height: calc(100vw * "+a/r+");}";switch(t){case 960:n+="@media (min-width: 1024px) {"+o+"}";break;case 768:n+="@media (max-width: 1023px) and (min-width: 768px) {"+o+"}";break;case 640:n+="@media (max-width: 767px) and (min-width: 640px) {"+o+"}";break;case 480:n+="@media (max-width: 639px) and (min-width: 480px) {"+o+"}";break;case 320:n+="@media (max-width: 479px) {"+o+"}"}});var o=document.createTextNode(n);e.styleSheet?e.styleSheet.cssText=n:e.appendChild(o)}}(),function(){var e="";v.showMobileBackgroundPhoto&&""!==v.mobileBackgroundPhoto&&(e=' data-hide-video="'+v.mobileBackgroundPhotoBreakpoint+'"');i+='<div id="cs-fullscreen-video-outer"'+e+">",i+='<div id="cs-fullscreen-video" class="cs-fullscreen-video" aria-hidden="true" tabindex="-1"></div>',v.showMobileBackgroundPhoto&&""!==v.mobileBackgroundPhoto&&(i+='<div class="cs-fullscreen-video-background-photo hide960 show'+v.mobileBackgroundPhotoBreakpoint+'" aria-hidden="true"><img src="'+v.mobileBackgroundPhoto+'" alt="Background Photo" width="100%" height="auto" role="presentation" /></div>');if(i+="</div>",h(n).append(i),v.showProgressBar){var t="";t+='<div class="cs-fullscreen-video-progessbar-outer" aria-hidden="true">',"line"==v.progressBarType?t+='<div class="cs-fullscreen-video-progessbar line-progressbar"></div>':"circle"==v.progressBarType&&(t+='<div class="cs-fullscreen-video-progessbar circle-progressbar"><canvas id="cs-fullscreen-video-loader" width="'+v.progressBarCircleWidth+'" height="'+v.progressBarCircleHeight+'"></canvas></div>'),t+="</div>",h(n).append(t)}if(v.showControls){var o='<div class="cs-fullscreen-video-buttons cs-fullscreen-video-'+v.videoSource+'-buttons video-playing video-muted" data-show-watch-video-button="'+v.showWatchVideoButton+'">';v.showWatchVideoButton?o+='<div class="cs-fullscreen-video-button watch-video-button" data-show-button="'+v.showWatchVideoButton+'" tabindex="0" role="button"><span class="cs-fullscreen-video-control-text">'+v.watchVideoButtonText+"</span></div>":o+='<div class="cs-fullscreen-video-button watch-video-button" data-show-button="'+v.showWatchVideoButton+'" role="button"><span class="cs-fullscreen-video-control-text">'+v.watchVideoButtonText+"</span></div>",o+='<div class="cs-fullscreen-video-button play-button" tabindex="0" role="button"><span class="cs-fullscreen-video-control-text">Play</span></div><div class="cs-fullscreen-video-button pause-button" tabindex="0" role="button"><span class="cs-fullscreen-video-control-text">Pause</span></div><div class="cs-fullscreen-video-button mute-button" tabindex="0" role="button"><span class="cs-fullscreen-video-control-text">Mute</span></div><div class="cs-fullscreen-video-button unmute-button" tabindex="0" role="button"><span class="cs-fullscreen-video-control-text">Unmute</span></div>',o+="</div>",h(n).append(o),h(document).on("click keydown","#cs-fullscreen-video-outer .cs-fullscreen-video-button.watch-video-button",function(e){if(f(e)){e.preventDefault();var t=h("#cs-fullscreen-video").attr("src");t=t.split("?"),h(".cs-fullscreen-video-buttons").hasClass("video-playing")&&(h(".cs-fullscreen-video-button.pause-button").click(),h(".cs-fullscreen-video-buttons").addClass("video-was-playing")),h(".cs-fullscreen-video-buttons").hasClass("video-unmuted")&&(h(".cs-fullscreen-video-button.mute-button").click(),h(".cs-fullscreen-video-buttons").addClass("video-was-unmuted")),h("#cs-fullscreen-video-outer").append('<div class="cs-fullscreen-video-window"><div class="cs-fullscreen-video-outer"><div class="cs-fullscreen-video-viewer"><div class="mmg-loader"><div class="mmg-loader-set one"></div><div class="mmg-loader-set two"></div></div><iframe width="560" height="315" src="'+t[0]+'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><a href="#" class="cs-fullscreen-video-close" aria-label="Close video dialog" role="button">Close</a></div></div>'),h("#cs-fullscreen-video-outer .cs-fullscreen-video-close").focus()}}),h(n).on("click keydown","#cs-fullscreen-video-outer .cs-fullscreen-video-close",function(e){f(e)&&(e.preventDefault(),h("#cs-fullscreen-video-outer .cs-fullscreen-video-window").addClass("close-video"),h(".cs-fullscreen-video-buttons").hasClass("video-was-playing")&&(h(".cs-fullscreen-video-button.play-button").click(),h(".cs-fullscreen-video-buttons").removeClass("video-was-playing")),h(".cs-fullscreen-video-buttons").hasClass("video-was-unmuted")&&(h(".cs-fullscreen-video-button.unmute-button").click(),h(".cs-fullscreen-video-buttons").removeClass("video-was-unmuted")),setTimeout(function(){h("#cs-fullscreen-video-outer .cs-fullscreen-video-window").remove(),h("#cs-fullscreen-video-outer .cs-fullscreen-video-button.watch-video-button").focus()},1e3)),"keydown"==e.type&&e.keyCode==u.tab&&(e.preventDefault(),h(".cs-fullscreen-video-viewer iframe")[0].contentWindow.focus())}),h("#cs-fullscreen-video-outer").on("focusout",".cs-fullscreen-video-window",function(e){e.preventDefault(),h("#cs-fullscreen-video-outer .cs-fullscreen-video-close").focus()})}}(),v.useCustomResize?(h(n).removeAttr("style"),v.extendResize(n,a,r)):h("#cs-fullscreen-video-outer").length&&-1<v.fullScreenBreakpoints.indexOf(d())?h(n).css("height","calc(100vh - "+h(n).offset().top+"px)"):h(n).removeAttr("style"),"youtube"==v.videoSource?(""==h.trim(v.videoID)&&(v.videoID="QkefIAVRQpI"),h.ajax({url:"https://noembed.com/embed?callback=?",dataType:"jsonp",contentType:"application/json; charset=utf-8",async:!0,data:{url:"https://youtube.com/watch?v="+v.videoID},success:function(e){r=e.width,a=e.height,o(e)},error:function(e){o(!1)}})):"vimeo"==v.videoSource?(""==h.trim(v.videoID)&&(v.videoID="22439234"),h.ajax({url:"https://vimeo.com/api/oembed.json?callback=?",dataType:"jsonp",async:!1,data:{url:"http://vimeo.com/"+v.videoID},success:function(e){r=e.width,a=e.height,c(e)},error:function(e){c(!1)}})):"myvrspot"==v.videoSource&&(""==h.trim(v.videoID)?console.log("No MyVRSpot video ID has been provided for the streaming video element."):function(e){var t=e||{width:r,height:a};h(n).trigger("click"),h("#cs-fullscreen-video").replaceWith(function(){return'<iframe id="cs-fullscreen-video" src="//live.myvrspot.com/iframe?v='+v.videoID+'" frameborder="0" aria-hidden="true" tabindex="-1" onload="playMyvrspotVideo();" allow="autoplay; fullscreen" scrolling="no"></iframe>'}),s=h("#cs-fullscreen-video")[0],h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons .play-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,t),s.contentWindow.postMessage("play","*"),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons").hasClass("video-paused")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons").removeClass("video-paused").addClass("video-playing"))}),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons .pause-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,t),s.contentWindow.postMessage("pause","*"),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons").hasClass("video-playing")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons").removeClass("video-playing").addClass("video-paused"))}),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons .mute-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,t),s.contentWindow.postMessage("mute","*"),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons").hasClass("video-unmuted")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons").removeClass("video-unmuted").addClass("video-muted"))}),h(document).on("click keydown",".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons .unmute-button",function(e){f(e)&&(e.preventDefault(),v.onStateChange.call(this,t),s.contentWindow.postMessage("unmute","*"),h(".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons").hasClass("video-muted")&&h(".cs-fullscreen-video-buttons.cs-fullscreen-video-myvrspot-buttons").removeClass("video-muted").addClass("video-unmuted"))}),v.onReady.call(this,t),window.playMyvrspotVideo=function(){h("#cs-fullscreen-video")[0].contentWindow.postMessage("play","*"),h("#cs-fullscreen-video")[0].contentWindow.postMessage("loop","*")}}()),h(window).resize(function(){v.useCustomResize?(h(n).removeAttr("style"),v.extendResize(n,a,r)):h("#cs-fullscreen-video-outer").length&&-1<v.fullScreenBreakpoints.indexOf(d())?h(n).css("height","calc(100vh - "+h(n).offset().top+"px)"):h(n).removeAttr("style")})})}}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){"use strict";function s(e,t){return 0===e.indexOf(t.toLowerCase())?e:""+t.toLowerCase()+e.substr(0,1).toUpperCase()+e.substr(1)}function a(e){return/^(https?:)?\/\/((player|www).)?vimeo.com(?=$|\/)/.test(e)}function u(e){var t=0<arguments.length&&void 0!==e?e:{},o=t.id,n=t.url,i=o||n;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(function(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}(i))return"https://vimeo.com/"+i;if(a(i))return i.replace("http:","https:");if(o)throw new TypeError("“"+o+"” is not a valid video id.");throw new TypeError("“"+i+"” is not a vimeo.com url.")}function e(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e,t,o){var n=b.get(e.element)||{};t in n||(n[t]=[]),n[t].push(o),b.set(e.element,n)}function l(e,t){return(b.get(e.element)||{})[t]||[]}function c(e,t,o){var n=b.get(e.element)||{};if(!n[t])return!0;if(!o)return n[t]=[],b.set(e.element,n),!0;var i=n[t].indexOf(o);return-1!==i&&n[t].splice(i,1),b.set(e.element,n),n[t]&&0===n[t].length}function d(n,e){var t=1<arguments.length&&void 0!==e?e:{};return i.reduce(function(e,t){var o=n.getAttribute("data-vimeo-"+t);return!o&&""!==o||(e[t]=""===o?1:o),e},t)}function f(s,e){var r=1<arguments.length&&void 0!==e?e:{};return new Promise(function(t,o){if(!a(s))throw new TypeError("“"+s+"” is not a vimeo.com url.");var e="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(s);for(var n in r)r.hasOwnProperty(n)&&(e+="&"+n+"="+encodeURIComponent(r[n]));var i="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;i.open("GET",e,!0),i.onload=function(){if(404!==i.status)if(403!==i.status)try{var e=JSON.parse(i.responseText);t(e)}catch(e){o(e)}else o(new Error("“"+s+"” is not embeddable."));else o(new Error("“"+s+"” was not found."))},i.onerror=function(){var e=i.status?" ("+i.status+")":"";o(new Error("There was an error fetching the embed code from Vimeo"+e+"."))},i.send()})}function v(e,t){var o=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=o,t.appendChild(n.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function h(e){return"string"==typeof e&&(e=JSON.parse(e)),e}function p(e,t,o){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var n={method:t};void 0!==o&&(n.value=o);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));8<=i&&i<10&&(n=JSON.stringify(n)),e.element.contentWindow.postMessage(n,e.origin)}}function m(o,n){n=h(n);var e=[],t=void 0;if(n.event)"error"===n.event&&l(o,n.data.method).forEach(function(e){var t=new Error(n.data.message);t.name=n.data.name,e.reject(t),c(o,n.data.method,e)}),e=l(o,"event:"+n.event),t=n.data;else if(n.method){var i=function(e,t){var o=l(e,t);if(o.length<1)return!1;var n=o.shift();return c(e,t,n),n}(o,n.method);i&&(e.push(i),t=n.value)}e.forEach(function(e){try{if("function"==typeof e)return void e.call(o,t);e.resolve(t)}catch(e){}})}var t="undefined"!=typeof global&&"[object global]"==={}.toString.call(global),o=void 0!==Array.prototype.indexOf,n="undefined"!=typeof window&&void 0!==window.postMessage;if(!(t||o&&n))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},y=(e(function(e,t){function o(e,t){function o(e){if(!this||this.constructor!==o)return new o(e);this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,e&&function(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}.call(this,e)}return t||y(e,"size",{get:v}),(e.constructor=o).prototype=e,o}function n(e){return this.has(e)&&(this._keys.splice(m,1),this._values.splice(m,1),this._itp.forEach(function(e){m<e[0]&&e[0]--})),-1<m}function i(e){return this.has(e)?this._values[m]:void 0}function s(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(m=e.length;m--&&!b(e[m],t););else m=e.indexOf(t);return-1<m}function r(e){return s.call(this,this._values,e)}function a(e){return s.call(this,this._keys,e)}function u(e,t){return this.has(e)?this._values[m]=t:this._values[this._keys.push(e)-1]=t,this}function l(e){return this.has(e)||this._values.push(e),this}function c(){(this._keys||0).length=this._values.length=0}function d(){return f(this._itp,this._values)}function f(o,n,i){var s=[0],r=!1;return o.push(s),{next:function(){var e,t=s[0];return!r&&t<n.length?(e=i?[n[t],i[t]]:n[t],s[0]++):(r=!0,o.splice(o.indexOf(s),1)),{done:r,value:e}}}}function v(){return this._values.length}function h(e,t){for(var o=this.entries();;){var n=o.next();if(n.done)break;e.call(t,n.value[1],n.value[0],this)}}var p,m,y,b;p=g,y=Object.defineProperty,b=function(e,t){return e===t||e!=e&&t!=t},"undefined"==typeof WeakMap&&(p.WeakMap=o({delete:n,clear:c,get:i,has:a,set:u},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(p.Map=o({delete:n,has:a,get:i,set:u,keys:function(){return f(this._itp,this._keys)},values:d,entries:function(){return f(this._itp,this._keys,this._values)},forEach:h,clear:c})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(p.Set=o({has:r,add:l,delete:n,clear:c,keys:d,values:d,entries:function(){return f(this._itp,this._values,this._values)},forEach:h})),"undefined"==typeof WeakSet&&(p.WeakSet=o({delete:n,add:l,clear:c,has:r},!0))}),e(function(e){var t,o,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(o=g)[t="Promise"]=o[t]||function(){function i(e,t){f.add(e,t),d||(d=h(f.drain))}function s(e){var t,o=void 0===e?"undefined":m(e);return null==e||"object"!=o&&"function"!=o||(t=e.then),"function"==typeof t&&t}function r(){for(var e=0;e<this.chain.length;e++)t(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function t(e,t,o){var n,i;try{!1===t?o.reject(e.msg):(n=!0===t?e.msg:t.call(void 0,e.msg),n===o.promise?o.reject(TypeError("Promise-chain cycle")):(i=s(n))?i.call(n,o.resolve,o.reject):o.resolve(n))}catch(e){o.reject(e)}}function a(e){var o,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(o=s(e))?i(function(){var t=new c(n);try{o.call(e,function(){a.apply(t,arguments)},function(){u.apply(t,arguments)})}catch(e){u.call(t,e)}}):(n.msg=e,n.state=1,n.chain.length>0&&i(r,n))}catch(e){u.call(new c(n),e)}}}function u(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&i(r,t))}function l(e,o,n,i){for(var t=0;t<o.length;t++)!function(t){e.resolve(o[t]).then(function(e){n(t,e)},i)}(t)}function c(e){this.def=e,this.triggered=!1}function o(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function e(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new o(this);this.then=function(e,t){var o={success:"function"!=typeof e||e,failure:"function"==typeof t&&t};return o.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");o.resolve=e,o.reject=t}),n.chain.push(o),0!==n.state&&i(r,n),o.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){a.call(n,e)},function(e){u.call(n,e)})}catch(e){u.call(n,e)}}var n,d,f,v=Object.prototype.toString,h="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(e,t,o,n){return Object.defineProperty(e,t,{value:o,writable:!0,configurable:!1!==n})}}catch(i){n=function(e,t,o){return e[t]=o,e}}f=function(){function o(e,t){this.fn=e,this.self=t,this.next=void 0}var n,i,s;return{add:function(e,t){s=new o(e,t),i?i.next=s:n=s,i=s,s=void 0},drain:function(){var e=n;for(n=i=d=void 0;e;)e.fn.call(e.self),e=e.next}}}();var p=n({},"constructor",e,!1);return n(e.prototype=p,"__NPO__",0,!1),n(e,"resolve",function(o){var e=this;return o&&"object"==(void 0===o?"undefined":m(o))&&1===o.__NPO__?o:new e(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");e(o)})}),n(e,"reject",function(o){return new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");t(o)})}),n(e,"all",function(t){var r=this;return"[object Array]"!=v.call(t)?r.reject(TypeError("Not an array")):0===t.length?r.resolve([]):new r(function(o,e){if("function"!=typeof o||"function"!=typeof e)throw TypeError("Not a function");var n=t.length,i=Array(n),s=0;l(r,t,function(e,t){i[e]=t,++s===n&&o(i)},e)})}),n(e,"race",function(t){var n=this;return"[object Array]"!=v.call(t)?n.reject(TypeError("Not an array")):new n(function(o,e){if("function"!=typeof o||"function"!=typeof e)throw TypeError("Not a function");l(n,t,function(e,t){o(t)},e)})}),e}(),e.exports&&(e.exports=o[t])})),b=new WeakMap,i=["id","url","width","maxwidth","height","maxheight","portrait","title","byline","color","autoplay","autopause","loop","responsive","speed","background","transparent"],w=function(e,t,o){return t&&B(e.prototype,t),o&&B(e,o),e},k=new WeakMap,x=new WeakMap,C=(w(T,[{key:"callMethod",value:function(o){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new y(function(e,t){return n.ready().then(function(){r(n,o,{resolve:e,reject:t}),p(n,o,i)})})}},{key:"get",value:function(o){var n=this;return new y(function(e,t){return o=s(o,"get"),n.ready().then(function(){r(n,o,{resolve:e,reject:t}),p(n,o)})})}},{key:"set",value:function(n,e){var i=this;return y.resolve(e).then(function(o){if(n=s(n,"set"),null==o)throw new TypeError("There must be a value to set.");return i.ready().then(function(){return new y(function(e,t){r(i,n,{resolve:e,reject:t}),p(i,n,o)})})})}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===l(this,"event:"+e).length&&this.callMethod("addEventListener",e).catch(function(){}),r(this,"event:"+e,t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");c(this,"event:"+e,t)&&this.callMethod("removeEventListener",e).catch(function(e){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=x.get(this);return y.resolve(e)}},{key:"addCuePoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}]),T);function T(n){var s=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,T),window.jQuery&&n instanceof jQuery&&(1<n.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),n=n[0]),"string"==typeof n&&(n=document.getElementById(n)),!function(e){return e instanceof window.HTMLElement}(n))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==n.nodeName){var e=n.querySelector("iframe");e&&(n=e)}if("IFRAME"===n.nodeName&&!a(n.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(k.has(n))return k.get(n);this.element=n,this.origin="*";var t=new y(function(i,t){function e(e){if(a(e.origin)&&s.element.contentWindow===e.source){"*"===s.origin&&(s.origin=e.origin);var t=h(e.data),o="event"in t&&"ready"===t.event,n="method"in t&&"ping"===t.method;if(o||n)return s.element.setAttribute("data-ready","true"),void i();m(s,t)}}if(window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e),"IFRAME"!==s.element.nodeName){var o=d(n,r);f(u(o),o).then(function(e){var t=v(e,n);return s.element=t,function(e,t){var o=b.get(e);b.set(t,o),b.delete(e)}(n,t),k.set(s.element,s),e}).catch(function(e){return t(e)})}});return x.set(this,t),k.set(this.element,this),"IFRAME"===this.element.nodeName&&p(this,"ping"),this}function B(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return t||(function(e){function o(e){"console"in window&&console.error&&console.error("There was an error creating an embed: "+e)}var t=0<arguments.length&&void 0!==e?e:document,n=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]"));n.forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=d(t);f(u(e),e).then(function(e){return v(e,t)}).catch(o)}catch(t){o(t)}})}(),function(e){function t(e){if(a(e.origin)&&e.data&&"spacechange"===e.data.event)for(var t=i.querySelectorAll("iframe"),o=0;o<t.length;o++)if(t[o].contentWindow===e.source){var n=t[o].parentElement;n&&-1!==n.className.indexOf("vimeo-space")&&(n.style.paddingBottom=e.data.data[0].bottom+"px");break}}var i=0<arguments.length&&void 0!==e?e:document;window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent&&window.attachEvent("onmessage",t)}()),C});